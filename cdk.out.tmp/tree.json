{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.238.0"},"children":{"JenkinsNetworkStack":{"id":"JenkinsNetworkStack","path":"JenkinsNetworkStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.238.0"},"children":{"JenkinsVpc":{"id":"JenkinsVpc","path":"JenkinsNetworkStack/JenkinsVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"tags":[{"key":"Name","value":"jenkins-eks-vpc"},{"key":"Purpose","value":"Jenkins EKS Cluster"}]}}},"PrivateSubnetAzA":{"id":"PrivateSubnetAzA","path":"JenkinsNetworkStack/PrivateSubnetAzA","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"jenkins-eks-private-subnet-az-a"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"vpcId":{"Ref":"JenkinsVpc"}}}},"PrivateRouteTableAzA":{"id":"PrivateRouteTableAzA","path":"JenkinsNetworkStack/PrivateRouteTableAzA","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-private-rt-az-a"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"vpcId":{"Ref":"JenkinsVpc"}}}},"PrivateSubnetAzARouteTableAssociation":{"id":"PrivateSubnetAzARouteTableAssociation","path":"JenkinsNetworkStack/PrivateSubnetAzARouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PrivateRouteTableAzA"},"subnetId":{"Ref":"PrivateSubnetAzA"}}}},"PrivateSubnetAzB":{"id":"PrivateSubnetAzB","path":"JenkinsNetworkStack/PrivateSubnetAzB","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"jenkins-eks-private-subnet-az-b"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"vpcId":{"Ref":"JenkinsVpc"}}}},"PrivateRouteTableAzB":{"id":"PrivateRouteTableAzB","path":"JenkinsNetworkStack/PrivateRouteTableAzB","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-private-rt-az-b"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"vpcId":{"Ref":"JenkinsVpc"}}}},"PrivateSubnetAzBRouteTableAssociation":{"id":"PrivateSubnetAzBRouteTableAssociation","path":"JenkinsNetworkStack/PrivateSubnetAzBRouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PrivateRouteTableAzB"},"subnetId":{"Ref":"PrivateSubnetAzB"}}}},"PublicSubnetAzA":{"id":"PublicSubnetAzA","path":"JenkinsNetworkStack/PublicSubnetAzA","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.10.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"jenkins-eks-public-subnet-az-a"},{"key":"Purpose","value":"Jenkins EKS Cluster NAT Gateway"}],"vpcId":{"Ref":"JenkinsVpc"}}}},"InternetGateway":{"id":"InternetGateway","path":"JenkinsNetworkStack/InternetGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-igw"},{"key":"Purpose","value":"Jenkins EKS Cluster"}]}}},"VpcGatewayAttachment":{"id":"VpcGatewayAttachment","path":"JenkinsNetworkStack/VpcGatewayAttachment","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"InternetGateway"},"vpcId":{"Ref":"JenkinsVpc"}}}},"PublicRouteTable":{"id":"PublicRouteTable","path":"JenkinsNetworkStack/PublicRouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-public-rt"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"vpcId":{"Ref":"JenkinsVpc"}}}},"PublicRoute":{"id":"PublicRoute","path":"JenkinsNetworkStack/PublicRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"InternetGateway"},"routeTableId":{"Ref":"PublicRouteTable"}}}},"PublicSubnetAzARouteTableAssociation":{"id":"PublicSubnetAzARouteTableAssociation","path":"JenkinsNetworkStack/PublicSubnetAzARouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PublicRouteTable"},"subnetId":{"Ref":"PublicSubnetAzA"}}}},"NatGatewayEipAzA":{"id":"NatGatewayEipAzA","path":"JenkinsNetworkStack/NatGatewayEipAzA","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"jenkins-eks-nat-eip-az-a"},{"key":"Purpose","value":"Jenkins EKS Cluster NAT Gateway"}]}}},"NatGatewayAzA":{"id":"NatGatewayAzA","path":"JenkinsNetworkStack/NatGatewayAzA","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NatGatewayEipAzA","AllocationId"]},"subnetId":{"Ref":"PublicSubnetAzA"},"tags":[{"key":"Name","value":"jenkins-eks-nat-gateway-az-a"},{"key":"Purpose","value":"Jenkins EKS Cluster"}]}}},"PrivateRouteAzA":{"id":"PrivateRouteAzA","path":"JenkinsNetworkStack/PrivateRouteAzA","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NatGatewayAzA"},"routeTableId":{"Ref":"PrivateRouteTableAzA"}}}},"PublicSubnetAzB":{"id":"PublicSubnetAzB","path":"JenkinsNetworkStack/PublicSubnetAzB","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.11.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"jenkins-eks-public-subnet-az-b"},{"key":"Purpose","value":"Jenkins EKS Cluster NAT Gateway"}],"vpcId":{"Ref":"JenkinsVpc"}}}},"PublicSubnetAzBRouteTableAssociation":{"id":"PublicSubnetAzBRouteTableAssociation","path":"JenkinsNetworkStack/PublicSubnetAzBRouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PublicRouteTable"},"subnetId":{"Ref":"PublicSubnetAzB"}}}},"NatGatewayEipAzB":{"id":"NatGatewayEipAzB","path":"JenkinsNetworkStack/NatGatewayEipAzB","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"jenkins-eks-nat-eip-az-b"},{"key":"Purpose","value":"Jenkins EKS Cluster NAT Gateway"}]}}},"NatGatewayAzB":{"id":"NatGatewayAzB","path":"JenkinsNetworkStack/NatGatewayAzB","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NatGatewayEipAzB","AllocationId"]},"subnetId":{"Ref":"PublicSubnetAzB"},"tags":[{"key":"Name","value":"jenkins-eks-nat-gateway-az-b"},{"key":"Purpose","value":"Jenkins EKS Cluster"}]}}},"PrivateRouteAzB":{"id":"PrivateRouteAzB","path":"JenkinsNetworkStack/PrivateRouteAzB","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NatGatewayAzB"},"routeTableId":{"Ref":"PrivateRouteTableAzB"}}}},"ImportedVpc":{"id":"ImportedVpc","path":"JenkinsNetworkStack/ImportedVpc","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"},"children":{"PrivateSubnet1":{"id":"PrivateSubnet1","path":"JenkinsNetworkStack/ImportedVpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"JenkinsNetworkStack/ImportedVpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}}}},"ImportedPrivateSubnetAzA":{"id":"ImportedPrivateSubnetAzA","path":"JenkinsNetworkStack/ImportedPrivateSubnetAzA","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"ImportedPrivateSubnetAzB":{"id":"ImportedPrivateSubnetAzB","path":"JenkinsNetworkStack/ImportedPrivateSubnetAzB","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"VpcEndpointSecurityGroup":{"id":"VpcEndpointSecurityGroup","path":"JenkinsNetworkStack/VpcEndpointSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for VPC endpoints","securityGroupEgress":[{"ipProtocol":"-1","cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic"}],"securityGroupIngress":[{"ipProtocol":"tcp","fromPort":443,"toPort":443,"cidrIp":"10.0.0.0/16","description":"Allow HTTPS from VPC"}],"tags":[{"key":"Name","value":"jenkins-eks-vpc-endpoint-sg"},{"key":"Purpose","value":"Jenkins EKS Cluster VPC Endpoints"}],"vpcId":{"Ref":"JenkinsVpc"}}}},"S3GatewayEndpoint":{"id":"S3GatewayEndpoint","path":"JenkinsNetworkStack/S3GatewayEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-s3-gateway-endpoint"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"routeTableIds":[{"Ref":"PrivateRouteTableAzA"},{"Ref":"PrivateRouteTableAzB"}],"serviceName":"com.amazonaws.us-west-2.s3","vpcEndpointType":"Gateway","vpcId":{"Ref":"JenkinsVpc"}}}},"EcrApiEndpoint":{"id":"EcrApiEndpoint","path":"JenkinsNetworkStack/EcrApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-ecr-api-endpoint"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"privateDnsEnabled":true,"securityGroupIds":[{"Ref":"VpcEndpointSecurityGroup"}],"serviceName":"com.amazonaws.us-west-2.ecr.api","subnetIds":[{"Ref":"PrivateSubnetAzA"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"JenkinsVpc"}}}},"EcrDockerEndpoint":{"id":"EcrDockerEndpoint","path":"JenkinsNetworkStack/EcrDockerEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-ecr-docker-endpoint"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"privateDnsEnabled":true,"securityGroupIds":[{"Ref":"VpcEndpointSecurityGroup"}],"serviceName":"com.amazonaws.us-west-2.ecr.dkr","subnetIds":[{"Ref":"PrivateSubnetAzA"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"JenkinsVpc"}}}},"Ec2Endpoint":{"id":"Ec2Endpoint","path":"JenkinsNetworkStack/Ec2Endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-ec2-endpoint"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"privateDnsEnabled":true,"securityGroupIds":[{"Ref":"VpcEndpointSecurityGroup"}],"serviceName":"com.amazonaws.us-west-2.ec2","subnetIds":[{"Ref":"PrivateSubnetAzA"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"JenkinsVpc"}}}},"StsEndpoint":{"id":"StsEndpoint","path":"JenkinsNetworkStack/StsEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-sts-endpoint"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"privateDnsEnabled":true,"securityGroupIds":[{"Ref":"VpcEndpointSecurityGroup"}],"serviceName":"com.amazonaws.us-west-2.sts","subnetIds":[{"Ref":"PrivateSubnetAzA"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"JenkinsVpc"}}}},"CloudWatchLogsEndpoint":{"id":"CloudWatchLogsEndpoint","path":"JenkinsNetworkStack/CloudWatchLogsEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"jenkins-eks-cloudwatch-logs-endpoint"},{"key":"Purpose","value":"Jenkins EKS Cluster"}],"privateDnsEnabled":true,"securityGroupIds":[{"Ref":"VpcEndpointSecurityGroup"}],"serviceName":"com.amazonaws.us-west-2.logs","subnetIds":[{"Ref":"PrivateSubnetAzA"},{"Ref":"PrivateSubnetAzB"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"JenkinsVpc"}}}},"VpcIdOutput":{"id":"VpcIdOutput","path":"JenkinsNetworkStack/VpcIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"PrivateSubnetAzAIdOutput":{"id":"PrivateSubnetAzAIdOutput","path":"JenkinsNetworkStack/PrivateSubnetAzAIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"PrivateSubnetAzBIdOutput":{"id":"PrivateSubnetAzBIdOutput","path":"JenkinsNetworkStack/PrivateSubnetAzBIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"NatGatewayAzAIdOutput":{"id":"NatGatewayAzAIdOutput","path":"JenkinsNetworkStack/NatGatewayAzAIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"NatGatewayAzBIdOutput":{"id":"NatGatewayAzBIdOutput","path":"JenkinsNetworkStack/NatGatewayAzBIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"JenkinsNetworkStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"JenkinsNetworkStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"Exports":{"id":"Exports","path":"JenkinsNetworkStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"PrivateSubnetAzA\"}":{"id":"Output{\"Ref\":\"PrivateSubnetAzA\"}","path":"JenkinsNetworkStack/Exports/Output{\"Ref\":\"PrivateSubnetAzA\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Output{\"Ref\":\"PrivateSubnetAzB\"}":{"id":"Output{\"Ref\":\"PrivateSubnetAzB\"}","path":"JenkinsNetworkStack/Exports/Output{\"Ref\":\"PrivateSubnetAzB\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Output{\"Ref\":\"JenkinsVpc\"}":{"id":"Output{\"Ref\":\"JenkinsVpc\"}","path":"JenkinsNetworkStack/Exports/Output{\"Ref\":\"JenkinsVpc\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Output{\"Ref\":\"PrivateRouteTableAzA\"}":{"id":"Output{\"Ref\":\"PrivateRouteTableAzA\"}","path":"JenkinsNetworkStack/Exports/Output{\"Ref\":\"PrivateRouteTableAzA\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Output{\"Ref\":\"PrivateRouteTableAzB\"}":{"id":"Output{\"Ref\":\"PrivateRouteTableAzB\"}","path":"JenkinsNetworkStack/Exports/Output{\"Ref\":\"PrivateRouteTableAzB\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"JenkinsNetworkStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"JenkinsNetworkStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.238.0"}}}},"NginxApiNetworkStack":{"id":"NginxApiNetworkStack","path":"NginxApiNetworkStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.238.0"},"children":{"NginxApiVpc":{"id":"NginxApiVpc","path":"NginxApiNetworkStack/NginxApiVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiNetworkStack/NginxApiVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.1.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.238.0"},"children":{"Subnet":{"id":"Subnet","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.1.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1"}],"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"Acl":{"id":"Acl","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"RouteTable":{"id":"RouteTable","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1"}],"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NginxApiVpcPublicSubnet1RouteTableC76594A9"},"subnetId":{"Ref":"NginxApiVpcPublicSubnet1Subnet5DA69EFA"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NginxApiVpcIGW5928105F"},"routeTableId":{"Ref":"NginxApiVpcPublicSubnet1RouteTableC76594A9"}}}},"EIP":{"id":"EIP","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NginxApiVpcPublicSubnet1EIPE121B9CD","AllocationId"]},"subnetId":{"Ref":"NginxApiVpcPublicSubnet1Subnet5DA69EFA"},"tags":[{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.238.0"},"children":{"Subnet":{"id":"Subnet","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.1.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet2"}],"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"Acl":{"id":"Acl","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"RouteTable":{"id":"RouteTable","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet2"}],"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NginxApiVpcPublicSubnet2RouteTableE182E84F"},"subnetId":{"Ref":"NginxApiVpcPublicSubnet2Subnet95FA2523"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NginxApiNetworkStack/NginxApiVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NginxApiVpcIGW5928105F"},"routeTableId":{"Ref":"NginxApiVpcPublicSubnet2RouteTableE182E84F"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.238.0"},"children":{"Subnet":{"id":"Subnet","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.1.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"karpenter.sh/discovery","value":"nginx-api-cluster"},{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/internal-elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet1"}],"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"Acl":{"id":"Acl","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"RouteTable":{"id":"RouteTable","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"karpenter.sh/discovery","value":"nginx-api-cluster"},{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/internal-elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet1"}],"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NginxApiVpcPrivateSubnet1RouteTable98063B8E"},"subnetId":{"Ref":"NginxApiVpcPrivateSubnet1Subnet1174CD0B"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NginxApiVpcPublicSubnet1NATGatewayB0E85B54"},"routeTableId":{"Ref":"NginxApiVpcPrivateSubnet1RouteTable98063B8E"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.238.0"},"children":{"Subnet":{"id":"Subnet","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.1.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"karpenter.sh/discovery","value":"nginx-api-cluster"},{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/internal-elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet2"}],"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"Acl":{"id":"Acl","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"RouteTable":{"id":"RouteTable","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"karpenter.sh/discovery","value":"nginx-api-cluster"},{"key":"kubernetes.io/cluster/nginx-api-cluster","value":"shared"},{"key":"kubernetes.io/role/internal-elb","value":"1"},{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet2"}],"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NginxApiVpcPrivateSubnet2RouteTable0500355F"},"subnetId":{"Ref":"NginxApiVpcPrivateSubnet2SubnetD6B4249D"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NginxApiNetworkStack/NginxApiVpc/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NginxApiVpcPublicSubnet1NATGatewayB0E85B54"},"routeTableId":{"Ref":"NginxApiVpcPrivateSubnet2RouteTable0500355F"}}}}}},"IGW":{"id":"IGW","path":"NginxApiNetworkStack/NginxApiVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NginxApiNetworkStack/NginxApiVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"NginxApiNetworkStack/NginxApiVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"NginxApiVpcIGW5928105F"},"vpcId":{"Ref":"NginxApiVpcB7BEAB92"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"NginxApiNetworkStack/NginxApiVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.238.0"},"children":{"Default":{"id":"Default","path":"NginxApiNetworkStack/NginxApiVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"NginxApiNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.238.0"},"children":{"Staging":{"id":"Staging","path":"NginxApiNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"Role":{"id":"Role","path":"NginxApiNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}},"Handler":{"id":"Handler","path":"NginxApiNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"VpcIdOutput":{"id":"VpcIdOutput","path":"NginxApiNetworkStack/VpcIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"VpcCidrOutput":{"id":"VpcCidrOutput","path":"NginxApiNetworkStack/VpcCidrOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"PublicSubnetIdsOutput":{"id":"PublicSubnetIdsOutput","path":"NginxApiNetworkStack/PublicSubnetIdsOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"PrivateSubnetIdsOutput":{"id":"PrivateSubnetIdsOutput","path":"NginxApiNetworkStack/PrivateSubnetIdsOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"NginxApiNetworkStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"NginxApiNetworkStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"Exports":{"id":"Exports","path":"NginxApiNetworkStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"NginxApiVpcPrivateSubnet1Subnet1174CD0B\"}":{"id":"Output{\"Ref\":\"NginxApiVpcPrivateSubnet1Subnet1174CD0B\"}","path":"NginxApiNetworkStack/Exports/Output{\"Ref\":\"NginxApiVpcPrivateSubnet1Subnet1174CD0B\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Output{\"Ref\":\"NginxApiVpcPrivateSubnet2SubnetD6B4249D\"}":{"id":"Output{\"Ref\":\"NginxApiVpcPrivateSubnet2SubnetD6B4249D\"}","path":"NginxApiNetworkStack/Exports/Output{\"Ref\":\"NginxApiVpcPrivateSubnet2SubnetD6B4249D\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Output{\"Ref\":\"NginxApiVpcB7BEAB92\"}":{"id":"Output{\"Ref\":\"NginxApiVpcB7BEAB92\"}","path":"NginxApiNetworkStack/Exports/Output{\"Ref\":\"NginxApiVpcB7BEAB92\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Output{\"Ref\":\"NginxApiVpcPrivateSubnet1RouteTable98063B8E\"}":{"id":"Output{\"Ref\":\"NginxApiVpcPrivateSubnet1RouteTable98063B8E\"}","path":"NginxApiNetworkStack/Exports/Output{\"Ref\":\"NginxApiVpcPrivateSubnet1RouteTable98063B8E\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Output{\"Ref\":\"NginxApiVpcPrivateSubnet2RouteTable0500355F\"}":{"id":"Output{\"Ref\":\"NginxApiVpcPrivateSubnet2RouteTable0500355F\"}","path":"NginxApiNetworkStack/Exports/Output{\"Ref\":\"NginxApiVpcPrivateSubnet2RouteTable0500355F\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"NginxApiNetworkStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"NginxApiNetworkStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.238.0"}}}},"TransitGatewayStack":{"id":"TransitGatewayStack","path":"TransitGatewayStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.238.0"},"children":{"TransitGateway":{"id":"TransitGateway","path":"TransitGatewayStack/TransitGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnTransitGateway","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::TransitGateway","aws:cdk:cloudformation:props":{"defaultRouteTableAssociation":"enable","defaultRouteTablePropagation":"enable","description":"Transit Gateway for Jenkins and Nginx API VPC connectivity","dnsSupport":"enable","tags":[{"key":"Name","value":"jenkins-nginx-tgw"},{"key":"Purpose","value":"Inter-VPC Connectivity"}],"vpnEcmpSupport":"enable"}}},"JenkinsVpcAttachment":{"id":"JenkinsVpcAttachment","path":"TransitGatewayStack/JenkinsVpcAttachment","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnTransitGatewayAttachment","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::TransitGatewayAttachment","aws:cdk:cloudformation:props":{"subnetIds":[{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzAA8DA57B8"},{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzB30FC3688"}],"tags":[{"key":"Name","value":"jenkins-vpc-tgw-attachment"},{"key":"Purpose","value":"Jenkins VPC to Transit Gateway"}],"transitGatewayId":{"Ref":"TransitGateway"},"vpcId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefJenkinsVpc6E47CFBB"}}}},"NginxApiVpcAttachment":{"id":"NginxApiVpcAttachment","path":"TransitGatewayStack/NginxApiVpcAttachment","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnTransitGatewayAttachment","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::TransitGatewayAttachment","aws:cdk:cloudformation:props":{"subnetIds":[{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcPrivateSubnet1Subnet1174CD0B767F3D15"},{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcPrivateSubnet2SubnetD6B4249DE818A381"}],"tags":[{"key":"Name","value":"nginx-api-vpc-tgw-attachment"},{"key":"Purpose","value":"Nginx API VPC to Transit Gateway"}],"transitGatewayId":{"Ref":"TransitGateway"},"vpcId":{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcB7BEAB926351F217"}}}},"JenkinsToNginxApiRoute0":{"id":"JenkinsToNginxApiRoute0","path":"TransitGatewayStack/JenkinsToNginxApiRoute0","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"10.1.0.0/16","routeTableId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateRouteTableAzAEC5B234C"},"transitGatewayId":{"Ref":"TransitGateway"}}}},"JenkinsToNginxApiRoute1":{"id":"JenkinsToNginxApiRoute1","path":"TransitGatewayStack/JenkinsToNginxApiRoute1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"10.1.0.0/16","routeTableId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateRouteTableAzBEDB08D09"},"transitGatewayId":{"Ref":"TransitGateway"}}}},"NginxApiToJenkinsRoute0":{"id":"NginxApiToJenkinsRoute0","path":"TransitGatewayStack/NginxApiToJenkinsRoute0","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"10.0.0.0/16","routeTableId":{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcPrivateSubnet1RouteTable98063B8E4051C546"},"transitGatewayId":{"Ref":"TransitGateway"}}}},"NginxApiToJenkinsRoute1":{"id":"NginxApiToJenkinsRoute1","path":"TransitGatewayStack/NginxApiToJenkinsRoute1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"10.0.0.0/16","routeTableId":{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcPrivateSubnet2RouteTable0500355FFE19B2C9"},"transitGatewayId":{"Ref":"TransitGateway"}}}},"TransitGatewayIdOutput":{"id":"TransitGatewayIdOutput","path":"TransitGatewayStack/TransitGatewayIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"TransitGatewayArnOutput":{"id":"TransitGatewayArnOutput","path":"TransitGatewayStack/TransitGatewayArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsVpcAttachmentIdOutput":{"id":"JenkinsVpcAttachmentIdOutput","path":"TransitGatewayStack/JenkinsVpcAttachmentIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"NginxApiVpcAttachmentIdOutput":{"id":"NginxApiVpcAttachmentIdOutput","path":"TransitGatewayStack/NginxApiVpcAttachmentIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"TransitGatewayStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"TransitGatewayStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"TransitGatewayStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"TransitGatewayStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.238.0"}}}},"JenkinsEksStack":{"id":"JenkinsEksStack","path":"JenkinsEksStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.238.0"},"children":{"KubectlLayer":{"id":"KubectlLayer","path":"JenkinsEksStack/KubectlLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.238.0"},"children":{"Code":{"id":"Code","path":"JenkinsEksStack/KubectlLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/KubectlLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/KubectlLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/KubectlLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.12","python3.13"],"content":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"954e6e9b0c5b52a5026f0d4d400be8b316ee39dd23b73850ca64dcb5ca305a10.zip"},"description":"kubectl binary for Kubernetes API access"}}}}},"JenkinsEksCluster":{"id":"JenkinsEksCluster","path":"JenkinsEksStack/JenkinsEksCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.Cluster","version":"2.238.0"},"children":{"KubectlHandlerRole":{"id":"KubectlHandlerRole","path":"JenkinsEksStack/JenkinsEksCluster/KubectlHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/KubectlHandlerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEC2ContainerRegistryPullOnly"]]},{"Fn::If":["JenkinsEksClusterHasEcrPublicA2DE6B4B",{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonElasticContainerRegistryPublicReadOnly"]]},{"Ref":"AWS::NoValue"}]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JenkinsEksStack/JenkinsEksCluster/KubectlHandlerRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/KubectlHandlerRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"eks:DescribeCluster","Effect":"Allow","Resource":{"Fn::GetAtt":["JenkinsEksCluster57AD7EB2","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["JenkinsEksClusterCreationRole74EBB5F9","Arn"]}}],"Version":"2012-10-17"},"policyName":"JenkinsEksClusterKubectlHandlerRoleDefaultPolicyE32039FF","roles":[{"Ref":"JenkinsEksClusterKubectlHandlerRoleDB395AFE"}]}}}}}}},"Role":{"id":"Role","path":"JenkinsEksStack/JenkinsEksCluster/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"eks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEKSClusterPolicy"]]}]}}}}},"ControlPlaneSecurityGroup":{"id":"ControlPlaneSecurityGroup","path":"JenkinsEksStack/JenkinsEksCluster/ControlPlaneSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/ControlPlaneSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"EKS Control Plane Security Group","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefJenkinsVpc6E47CFBB"}}}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"CreationRole":{"id":"CreationRole","path":"JenkinsEksStack/JenkinsEksCluster/Resource/CreationRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/Resource/CreationRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":[{"Fn::GetAtt":["JenkinsEksClusterKubectlHandlerRoleDB395AFE","Arn"]},{"Fn::GetAtt":["awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454","Outputs.JenkinsEksStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole7580044BArn"]},{"Fn::GetAtt":["awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454","Outputs.JenkinsEksStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleF3A03153Arn"]}]}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JenkinsEksStack/JenkinsEksCluster/Resource/CreationRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/Resource/CreationRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["JenkinsEksClusterRole082DA6FB","Arn"]}},{"Action":["eks:CreateCluster","eks:CreateFargateProfile","eks:DeleteCluster","eks:DescribeCluster","eks:DescribeUpdate","eks:TagResource","eks:UntagResource","eks:UpdateClusterConfig","eks:UpdateClusterVersion"],"Effect":"Allow","Resource":["arn:aws:eks:us-west-2:450683699755:cluster/jenkins-eks-cluster","arn:aws:eks:us-west-2:450683699755:cluster/jenkins-eks-cluster/*"]},{"Action":["eks:DeleteFargateProfile","eks:DescribeFargateProfile"],"Effect":"Allow","Resource":"arn:aws:eks:us-west-2:450683699755:fargateprofile/jenkins-eks-cluster/*"},{"Action":["ec2:DescribeDhcpOptions","ec2:DescribeInstances","ec2:DescribeNetworkInterfaces","ec2:DescribeRouteTables","ec2:DescribeSecurityGroups","ec2:DescribeSubnets","ec2:DescribeVpcs","iam:CreateServiceLinkedRole","iam:GetRole","iam:listAttachedRolePolicies"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"JenkinsEksClusterCreationRoleDefaultPolicy1ACEA1D3","roles":[{"Ref":"JenkinsEksClusterCreationRole74EBB5F9"}]}}}}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/Resource/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.238.0"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/JenkinsEksCluster/Resource/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}}}},"KubectlReadyBarrier":{"id":"KubectlReadyBarrier","path":"JenkinsEksStack/JenkinsEksCluster/KubectlReadyBarrier","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}},"ClusterSecurityGroup":{"id":"ClusterSecurityGroup","path":"JenkinsEksStack/JenkinsEksCluster/ClusterSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"HasEcrPublic":{"id":"HasEcrPublic","path":"JenkinsEksStack/JenkinsEksCluster/HasEcrPublic","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.238.0"}},"OpenIdConnectProvider":{"id":"OpenIdConnectProvider","path":"JenkinsEksStack/JenkinsEksCluster/OpenIdConnectProvider","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.OpenIdConnectProvider","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksCluster/OpenIdConnectProvider/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.238.0"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/JenkinsEksCluster/OpenIdConnectProvider/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}}}}}},"@aws-cdk--aws-eks.ClusterResourceProvider":{"id":"@aws-cdk--aws-eks.ClusterResourceProvider","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.NestedStack","version":"2.238.0"},"children":{"NodeProxyAgentLayer":{"id":"NodeProxyAgentLayer","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_node_proxy_agent.NodeProxyAgentLayer","version":"2.238.0"},"children":{"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"93d96d34e0d3cd20eb082652b91012b131bdc34fcf2bc16eb4170e04772fddb1.zip"},"description":"/opt/nodejs/node_modules/proxy-agent"}}}}},"OnEventHandler":{"id":"OnEventHandler","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"d7bd9f4114bd50e541aa5a86ef7e0868cdc3de8cf904695c7989a7e4e810cb3e.zip"},"description":"onEvent handler for EKS cluster resource provider","environment":{"variables":{"AWS_STS_REGIONAL_ENDPOINTS":"regional"}},"handler":"index.onEvent","layers":[{"Ref":"NodeProxyAgentLayer924C1971"}],"role":{"Fn::GetAtt":["OnEventHandlerServiceRole15A26729","Arn"]},"runtime":"nodejs22.x","timeout":60}}},"LogGroup":{"id":"LogGroup","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"OnEventHandler42BEBAE0"}]]},"retentionInDays":731}}}}}}},"IsCompleteHandler":{"id":"IsCompleteHandler","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"d7bd9f4114bd50e541aa5a86ef7e0868cdc3de8cf904695c7989a7e4e810cb3e.zip"},"description":"isComplete handler for EKS cluster resource provider","environment":{"variables":{"AWS_STS_REGIONAL_ENDPOINTS":"regional"}},"handler":"index.isComplete","layers":[{"Ref":"NodeProxyAgentLayer924C1971"}],"role":{"Fn::GetAtt":["IsCompleteHandlerServiceRole5810CC58","Arn"]},"runtime":"nodejs22.x","timeout":60}}},"LogGroup":{"id":"LogGroup","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"IsCompleteHandler7073F4DA"}]]},"retentionInDays":731}}}}}}},"Provider":{"id":"Provider","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.238.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"Providerwaiterstatemachine5D4A9DF0"}}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonEventServiceRoleDefaultPolicy48CD2133","roles":[{"Ref":"ProviderframeworkonEventServiceRole9FF04296"}]}}}}}}},"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"07a90cc3efdfc34da22208dcd9d211f06f5b0e01b21e778edc7c3966b1f61d57.zip"},"description":"AWS CDK resource provider framework - onEvent (JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},"WAITER_STATE_MACHINE_ARN":{"Ref":"Providerwaiterstatemachine5D4A9DF0"}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["ProviderframeworkonEventServiceRole9FF04296","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonEvent83C1D0A7"}]]},"retentionInDays":731}}}}}}},"framework-isComplete":{"id":"framework-isComplete","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ProviderframeworkisCompleteServiceRoleDefaultPolicy2E7140AC","roles":[{"Ref":"ProviderframeworkisCompleteServiceRoleB1087139"}]}}}}}}},"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"07a90cc3efdfc34da22208dcd9d211f06f5b0e01b21e778edc7c3966b1f61d57.zip"},"description":"AWS CDK resource provider framework - isComplete (JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]}}},"handler":"framework.isComplete","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["ProviderframeworkisCompleteServiceRoleB1087139","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkisComplete26D7B0CB"}]]},"retentionInDays":731}}}}}}},"framework-onTimeout":{"id":"framework-onTimeout","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonTimeoutServiceRoleDefaultPolicy2688969F","roles":[{"Ref":"ProviderframeworkonTimeoutServiceRole28643D26"}]}}}}}}},"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"07a90cc3efdfc34da22208dcd9d211f06f5b0e01b21e778edc7c3966b1f61d57.zip"},"description":"AWS CDK resource provider framework - onTimeout (JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]}}},"handler":"framework.onTimeout","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["ProviderframeworkonTimeoutServiceRole28643D26","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonTimeout0B47CA38"}]]},"retentionInDays":731}}}}}}},"waiter-state-machine":{"id":"waiter-state-machine","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.WaiterStateMachine","version":"2.238.0"},"children":{"Role":{"id":"Role","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"ProviderwaiterstatemachineRoleDefaultPolicyD3C3DA1A","roles":[{"Ref":"ProviderwaiterstatemachineRole0C7159F9"}]}}}}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"framework-isComplete-task\",\"States\":{\"framework-isComplete-task\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":60,\"MaxAttempts\":60,\"BackoffRate\":1}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"framework-onTimeout-task\"}],\"Type\":\"Task\",\"Resource\":\"",{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},"\"},\"framework-onTimeout-task\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"",{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},"\"}}}"]]},"roleArn":{"Fn::GetAtt":["ProviderwaiterstatemachineRole0C7159F9","Arn"]}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"JenkinsEksStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleF3A03153Arn":{"id":"JenkinsEksStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleF3A03153Arn","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/JenkinsEksStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleF3A03153Arn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsEksStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole7580044BArn":{"id":"JenkinsEksStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole7580044BArn","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/JenkinsEksStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole7580044BArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsEksStackawscdkawseksClusterResourceProviderframeworkonEvent18F8A393Arn":{"id":"JenkinsEksStackawscdkawseksClusterResourceProviderframeworkonEvent18F8A393Arn","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider/JenkinsEksStackawscdkawseksClusterResourceProviderframeworkonEvent18F8A393Arn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}}}},"@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack":{"id":"@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource":{"id":"@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource","path":"JenkinsEksStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"templateUrl":{"Fn::Join":["",["https://s3.us-west-2.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-450683699755-us-west-2/c1342f841bef6c1c8c7673740b60265b5eb884b444c36604c8f3d95ae6f2b6bb.json"]]}}}}}},"@aws-cdk--aws-eks.KubectlProvider":{"id":"@aws-cdk--aws-eks.KubectlProvider","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.KubectlProvider","version":"2.238.0"},"children":{"Handler":{"id":"Handler","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Handler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Handler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Handler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Handler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"d671460286b61f85906debbcec5341ea4edad148fbc432b0663593611866728e.zip"},"description":"onEvent handler for EKS kubectl resource provider","environment":{"variables":{"AWS_STS_REGIONAL_ENDPOINTS":"regional"}},"handler":"index.handler","layers":[{"Ref":"AwsCliLayerF44AAF94"},{"Ref":"referencetoJenkinsEksStackKubectlLayer9484F7B7Ref"}],"memorySize":1024,"role":{"Ref":"referencetoJenkinsEksStackJenkinsEksClusterKubectlHandlerRole53703EA7Arn"},"runtime":"python3.13","timeout":900,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzAA8DA57B8"},{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzB30FC3688"}],"securityGroupIds":[{"Ref":"referencetoJenkinsEksStackJenkinsEksCluster63351F7AClusterSecurityGroupId"}]}}}},"LogGroup":{"id":"LogGroup","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Handler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Handler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"Handler886CB40B"}]]},"retentionInDays":731}}}}}}},"AwsCliLayer":{"id":"AwsCliLayer","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.238.0"},"children":{"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"0cfdecad2260a3a84ad0c2d08a77e03c9d25e26c7b52f26b1e1faf97aef92f18.zip"},"description":"/opt/awscli/aws"}}}}},"ConditionalPolicyArn":{"id":"ConditionalPolicyArn","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/ConditionalPolicyArn","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"conditionalPolicy":{"id":"conditionalPolicy","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/conditionalPolicy","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"Provider":{"id":"Provider","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.238.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["Handler886CB40B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Handler886CB40B","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["Handler886CB40B","Arn"]}}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonEventServiceRoleDefaultPolicy48CD2133","roles":[{"Ref":"ProviderframeworkonEventServiceRole9FF04296"}]}}}}}}},"Code":{"id":"Code","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"07a90cc3efdfc34da22208dcd9d211f06f5b0e01b21e778edc7c3966b1f61d57.zip"},"description":"AWS CDK resource provider framework - onEvent (JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["Handler886CB40B","Arn"]}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["ProviderframeworkonEventServiceRole9FF04296","Arn"]},"runtime":"nodejs22.x","timeout":900,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzAA8DA57B8"},{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzB30FC3688"}],"securityGroupIds":[{"Ref":"referencetoJenkinsEksStackJenkinsEksCluster63351F7AClusterSecurityGroupId"}]}}}},"LogGroup":{"id":"LogGroup","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonEvent83C1D0A7"}]]},"retentionInDays":731}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"reference-to-JenkinsEksStackKubectlLayer9484F7B7Ref":{"id":"reference-to-JenkinsEksStackKubectlLayer9484F7B7Ref","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/reference-to-JenkinsEksStackKubectlLayer9484F7B7Ref","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"reference-to-JenkinsEksStackJenkinsEksClusterKubectlHandlerRole53703EA7Arn":{"id":"reference-to-JenkinsEksStackJenkinsEksClusterKubectlHandlerRole53703EA7Arn","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/reference-to-JenkinsEksStackJenkinsEksClusterKubectlHandlerRole53703EA7Arn","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"reference-to-JenkinsEksStackJenkinsEksCluster63351F7AClusterSecurityGroupId":{"id":"reference-to-JenkinsEksStackJenkinsEksCluster63351F7AClusterSecurityGroupId","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider/reference-to-JenkinsEksStackJenkinsEksCluster63351F7AClusterSecurityGroupId","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}}}},"@aws-cdk--aws-eks.KubectlProvider.NestedStack":{"id":"@aws-cdk--aws-eks.KubectlProvider.NestedStack","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"@aws-cdk--aws-eks.KubectlProvider.NestedStackResource":{"id":"@aws-cdk--aws-eks.KubectlProvider.NestedStackResource","path":"JenkinsEksStack/@aws-cdk--aws-eks.KubectlProvider.NestedStack/@aws-cdk--aws-eks.KubectlProvider.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"parameters":{"referencetoJenkinsEksStackKubectlLayer9484F7B7Ref":{"Ref":"KubectlLayer600207B5"},"referencetoJenkinsEksStackJenkinsEksClusterKubectlHandlerRole53703EA7Arn":{"Fn::GetAtt":["JenkinsEksClusterKubectlHandlerRoleDB395AFE","Arn"]},"referencetoJenkinsEksStackJenkinsEksCluster63351F7AClusterSecurityGroupId":{"Fn::GetAtt":["JenkinsEksCluster57AD7EB2","ClusterSecurityGroupId"]}},"templateUrl":{"Fn::Join":["",["https://s3.us-west-2.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-450683699755-us-west-2/d011ea63e9ebb2da3873abd7ae24b95f8dc803bc86dc34b1a1d91543a5cf6ee5.json"]]}}}}}},"EksClusterNameOutput":{"id":"EksClusterNameOutput","path":"JenkinsEksStack/EksClusterNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"EksClusterArnOutput":{"id":"EksClusterArnOutput","path":"JenkinsEksStack/EksClusterArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"EksClusterEndpointOutput":{"id":"EksClusterEndpointOutput","path":"JenkinsEksStack/EksClusterEndpointOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"EksClusterVersionOutput":{"id":"EksClusterVersionOutput","path":"JenkinsEksStack/EksClusterVersionOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"EksClusterRoleArnOutput":{"id":"EksClusterRoleArnOutput","path":"JenkinsEksStack/EksClusterRoleArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider":{"id":"Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider","path":"JenkinsEksStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.238.0"},"children":{"Staging":{"id":"Staging","path":"JenkinsEksStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"Role":{"id":"Role","path":"JenkinsEksStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}},"Handler":{"id":"Handler","path":"JenkinsEksStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"OidcProviderArnOutput":{"id":"OidcProviderArnOutput","path":"JenkinsEksStack/OidcProviderArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"OidcProviderIssuerOutput":{"id":"OidcProviderIssuerOutput","path":"JenkinsEksStack/OidcProviderIssuerOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsEfsFileSystem":{"id":"JenkinsEfsFileSystem","path":"JenkinsEksStack/JenkinsEfsFileSystem","constructInfo":{"fqn":"aws-cdk-lib.aws_efs.FileSystem","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEfsFileSystem/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_efs.CfnFileSystem","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EFS::FileSystem","aws:cdk:cloudformation:props":{"backupPolicy":{"status":"ENABLED"},"encrypted":true,"fileSystemPolicy":{"Statement":[{"Action":["elasticfilesystem:ClientRootAccess","elasticfilesystem:ClientWrite"],"Condition":{"Bool":{"elasticfilesystem:AccessedViaMountTarget":"true"}},"Effect":"Allow","Principal":{"AWS":"*"}}],"Version":"2012-10-17"},"lifecyclePolicies":[{"transitionToIa":"AFTER_30_DAYS"}],"performanceMode":"generalPurpose","fileSystemTags":[{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-eks-efs"},{"key":"Purpose","value":"Jenkins EKS Cluster Persistent Storage"}],"throughputMode":"bursting"}}},"EfsSecurityGroup":{"id":"EfsSecurityGroup","path":"JenkinsEksStack/JenkinsEfsFileSystem/EfsSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEfsFileSystem/EfsSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"JenkinsEksStack/JenkinsEfsFileSystem/EfsSecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-eks-efs"},{"key":"Purpose","value":"Jenkins EKS Cluster Persistent Storage"}],"vpcId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefJenkinsVpc6E47CFBB"}}}}}},"EfsMountTarget-ImportedPrivateSubnetAzA":{"id":"EfsMountTarget-ImportedPrivateSubnetAzA","path":"JenkinsEksStack/JenkinsEfsFileSystem/EfsMountTarget-ImportedPrivateSubnetAzA","constructInfo":{"fqn":"aws-cdk-lib.aws_efs.CfnMountTarget","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EFS::MountTarget","aws:cdk:cloudformation:props":{"fileSystemId":{"Ref":"JenkinsEfsFileSystem6EF31F85"},"securityGroups":[{"Fn::GetAtt":["JenkinsEfsFileSystemEfsSecurityGroup85356B7B","GroupId"]}],"subnetId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzAA8DA57B8"}}}},"EfsMountTarget-ImportedPrivateSubnetAzB":{"id":"EfsMountTarget-ImportedPrivateSubnetAzB","path":"JenkinsEksStack/JenkinsEfsFileSystem/EfsMountTarget-ImportedPrivateSubnetAzB","constructInfo":{"fqn":"aws-cdk-lib.aws_efs.CfnMountTarget","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EFS::MountTarget","aws:cdk:cloudformation:props":{"fileSystemId":{"Ref":"JenkinsEfsFileSystem6EF31F85"},"securityGroups":[{"Fn::GetAtt":["JenkinsEfsFileSystemEfsSecurityGroup85356B7B","GroupId"]}],"subnetId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzB30FC3688"}}}}}},"EfsFileSystemIdOutput":{"id":"EfsFileSystemIdOutput","path":"JenkinsEksStack/EfsFileSystemIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"EfsFileSystemArnOutput":{"id":"EfsFileSystemArnOutput","path":"JenkinsEksStack/EfsFileSystemArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsEfsBackupVault":{"id":"JenkinsEfsBackupVault","path":"JenkinsEksStack/JenkinsEfsBackupVault","constructInfo":{"fqn":"aws-cdk-lib.aws_backup.BackupVault","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEfsBackupVault/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_backup.CfnBackupVault","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Backup::BackupVault","aws:cdk:cloudformation:props":{"backupVaultName":"jenkins-eks-efs-backup-vault"}}}}},"JenkinsEfsBackupPlan":{"id":"JenkinsEfsBackupPlan","path":"JenkinsEksStack/JenkinsEfsBackupPlan","constructInfo":{"fqn":"aws-cdk-lib.aws_backup.BackupPlan","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEfsBackupPlan/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_backup.CfnBackupPlan","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Backup::BackupPlan","aws:cdk:cloudformation:props":{"backupPlan":{"backupPlanName":"jenkins-eks-efs-daily-backup","backupPlanRule":[{"completionWindowMinutes":120,"lifecycle":{"deleteAfterDays":30},"ruleName":"DailyBackup","scheduleExpression":"cron(0 2 * * ? *)","startWindowMinutes":60,"targetBackupVault":{"Fn::GetAtt":["JenkinsEfsBackupVaultECF09940","BackupVaultName"]}}]}}}},"JenkinsEfsBackupSelection":{"id":"JenkinsEfsBackupSelection","path":"JenkinsEksStack/JenkinsEfsBackupPlan/JenkinsEfsBackupSelection","constructInfo":{"fqn":"aws-cdk-lib.aws_backup.BackupSelection","version":"2.238.0"},"children":{"Role":{"id":"Role","path":"JenkinsEksStack/JenkinsEfsBackupPlan/JenkinsEfsBackupSelection/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEfsBackupPlan/JenkinsEfsBackupSelection/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"backup.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSBackupServiceRolePolicyForRestores"]]}]}}}}},"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEfsBackupPlan/JenkinsEfsBackupSelection/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_backup.CfnBackupSelection","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Backup::BackupSelection","aws:cdk:cloudformation:props":{"backupPlanId":{"Fn::GetAtt":["JenkinsEfsBackupPlan7202F137","BackupPlanId"]},"backupSelection":{"iamRoleArn":{"Fn::GetAtt":["JenkinsEfsBackupPlanJenkinsEfsBackupSelectionRole2B1E391E","Arn"]},"selectionName":"JenkinsEfsBackupSelection","resources":[{"Fn::Join":["",["arn:aws:elasticfilesystem:us-west-2:450683699755:file-system/",{"Ref":"JenkinsEfsFileSystem6EF31F85"}]]}]}}}}}}}},"BackupVaultNameOutput":{"id":"BackupVaultNameOutput","path":"JenkinsEksStack/BackupVaultNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"BackupVaultArnOutput":{"id":"BackupVaultArnOutput","path":"JenkinsEksStack/BackupVaultArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"BackupPlanIdOutput":{"id":"BackupPlanIdOutput","path":"JenkinsEksStack/BackupPlanIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"BackupPlanArnOutput":{"id":"BackupPlanArnOutput","path":"JenkinsEksStack/BackupPlanArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsArtifactsBucket":{"id":"JenkinsArtifactsBucket","path":"JenkinsEksStack/JenkinsArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"jenkins-450683699755-us-west-2-artifacts","lifecycleConfiguration":{"rules":[{"id":"TransitionToIntelligentTiering","status":"Enabled","transitions":[{"storageClass":"INTELLIGENT_TIERING","transitionInDays":30}]},{"expirationInDays":90,"id":"DeleteOldObjects","status":"Enabled"}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-450683699755-us-west-2-artifacts"},{"key":"Purpose","value":"Jenkins Job State and Artifacts Storage"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"JenkinsEksStack/JenkinsArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"JenkinsArtifactsBucket14141A05"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["JenkinsArtifactsBucket14141A05","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["JenkinsArtifactsBucket14141A05","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"JenkinsEksStack/JenkinsArtifactsBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.238.0"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/JenkinsArtifactsBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"JenkinsEksStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.238.0"},"children":{"Staging":{"id":"Staging","path":"JenkinsEksStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"Role":{"id":"Role","path":"JenkinsEksStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}},"Handler":{"id":"Handler","path":"JenkinsEksStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"ArtifactsBucketNameOutput":{"id":"ArtifactsBucketNameOutput","path":"JenkinsEksStack/ArtifactsBucketNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ArtifactsBucketArnOutput":{"id":"ArtifactsBucketArnOutput","path":"JenkinsEksStack/ArtifactsBucketArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"GitHubWebhookSecret":{"id":"GitHubWebhookSecret","path":"JenkinsEksStack/GitHubWebhookSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/GitHubWebhookSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"GitHub webhook secret for Jenkins CI/CD pipeline validation","generateSecretString":{"secretStringTemplate":"{}","generateStringKey":"secret","excludePunctuation":true,"passwordLength":64},"name":"jenkins/github-webhook-secret","tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-github-webhook-secret"},{"key":"Project","value":"Jenkins"},{"key":"Purpose","value":"GitHub Webhook Validation"}]}}}}},"GitHubWebhookSecretArnOutput":{"id":"GitHubWebhookSecretArnOutput","path":"JenkinsEksStack/GitHubWebhookSecretArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"GitHubWebhookSecretNameOutput":{"id":"GitHubWebhookSecretNameOutput","path":"JenkinsEksStack/GitHubWebhookSecretNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"GitHubWebhookSecretRetrievalCommandOutput":{"id":"GitHubWebhookSecretRetrievalCommandOutput","path":"JenkinsEksStack/GitHubWebhookSecretRetrievalCommandOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsControllerRoleCondition":{"id":"JenkinsControllerRoleCondition","path":"JenkinsEksStack/JenkinsControllerRoleCondition","constructInfo":{"fqn":"aws-cdk-lib.CfnJson","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsControllerRoleCondition/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.238.0"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/JenkinsControllerRoleCondition/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}}}},"AWSCDKCfnUtilsProviderCustomResourceProvider":{"id":"AWSCDKCfnUtilsProviderCustomResourceProvider","path":"JenkinsEksStack/AWSCDKCfnUtilsProviderCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.238.0"},"children":{"Staging":{"id":"Staging","path":"JenkinsEksStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"Role":{"id":"Role","path":"JenkinsEksStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}},"Handler":{"id":"Handler","path":"JenkinsEksStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"JenkinsControllerRole":{"id":"JenkinsControllerRole","path":"JenkinsEksStack/JenkinsControllerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"Federated":{"Ref":"JenkinsEksClusterOpenIdConnectProvider862107FE"}},"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"Fn::GetAtt":["JenkinsControllerRoleConditionB9C8E963","Value"]}}}]},"description":"IAM role for Jenkins controller to deploy and manage AWS infrastructure","maxSessionDuration":3600,"policies":[{"policyName":"JenkinsControllerInfrastructureDeploymentPolicy","policyDocument":{"Statement":[{"Action":["cloudformation:CreateStack","cloudformation:UpdateStack","cloudformation:DeleteStack","cloudformation:DescribeStacks","cloudformation:DescribeStackEvents","cloudformation:DescribeStackResources","cloudformation:GetTemplate","cloudformation:ValidateTemplate","cloudformation:ListStacks","cloudformation:ListStackResources"],"Effect":"Allow","Resource":"*"},{"Action":["s3:CreateBucket","s3:DeleteBucket","s3:ListBucket","s3:GetBucketLocation","s3:GetBucketVersioning","s3:PutBucketVersioning","s3:GetBucketTagging","s3:PutBucketTagging","s3:GetBucketPolicy","s3:PutBucketPolicy","s3:DeleteBucketPolicy","s3:GetEncryptionConfiguration","s3:PutEncryptionConfiguration"],"Effect":"Allow","Resource":"arn:aws:s3:::*"},{"Action":["s3:GetObject","s3:PutObject","s3:DeleteObject","s3:ListBucket","s3:GetObjectVersion","s3:DeleteObjectVersion"],"Effect":"Allow","Resource":["arn:aws:s3:::jenkins-*-artifacts/*","arn:aws:s3:::terraform-state-*/*","arn:aws:s3:::*-terraform-state/*"]},{"Action":["dynamodb:CreateTable","dynamodb:DeleteTable","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:PutItem","dynamodb:DeleteItem","dynamodb:Scan","dynamodb:Query","dynamodb:UpdateItem","dynamodb:UpdateTable","dynamodb:ListTables","dynamodb:TagResource","dynamodb:UntagResource"],"Effect":"Allow","Resource":"*"},{"Action":["ec2:Describe*","ec2:CreateTags","ec2:DeleteTags","ec2:CreateSecurityGroup","ec2:DeleteSecurityGroup","ec2:AuthorizeSecurityGroupIngress","ec2:AuthorizeSecurityGroupEgress","ec2:RevokeSecurityGroupIngress","ec2:RevokeSecurityGroupEgress","ec2:CreateKeyPair","ec2:DeleteKeyPair","ec2:RunInstances","ec2:TerminateInstances","ec2:StartInstances","ec2:StopInstances","ec2:RebootInstances","ec2:ModifyInstanceAttribute"],"Effect":"Allow","Resource":"*"},{"Action":["ec2:CreateVpc","ec2:DeleteVpc","ec2:ModifyVpcAttribute","ec2:CreateSubnet","ec2:DeleteSubnet","ec2:ModifySubnetAttribute","ec2:CreateRouteTable","ec2:DeleteRouteTable","ec2:CreateRoute","ec2:DeleteRoute","ec2:AssociateRouteTable","ec2:DisassociateRouteTable","ec2:CreateInternetGateway","ec2:DeleteInternetGateway","ec2:AttachInternetGateway","ec2:DetachInternetGateway","ec2:CreateNatGateway","ec2:DeleteNatGateway","ec2:AllocateAddress","ec2:ReleaseAddress","ec2:AssociateAddress","ec2:DisassociateAddress","ec2:CreateVpcEndpoint","ec2:DeleteVpcEndpoint","ec2:ModifyVpcEndpoint"],"Effect":"Allow","Resource":"*"},{"Action":["iam:GetRole","iam:GetRolePolicy","iam:ListRolePolicies","iam:ListAttachedRolePolicies","iam:CreateRole","iam:DeleteRole","iam:UpdateRole","iam:PutRolePolicy","iam:DeleteRolePolicy","iam:AttachRolePolicy","iam:DetachRolePolicy","iam:PassRole","iam:TagRole","iam:UntagRole","iam:GetPolicy","iam:GetPolicyVersion","iam:ListPolicyVersions","iam:CreatePolicy","iam:DeletePolicy","iam:CreatePolicyVersion","iam:DeletePolicyVersion"],"Effect":"Allow","Resource":"*"},{"Action":["eks:DescribeCluster","eks:ListClusters","eks:DescribeNodegroup","eks:ListNodegroups","eks:DescribeUpdate","eks:ListUpdates","eks:CreateCluster","eks:DeleteCluster","eks:UpdateClusterConfig","eks:UpdateClusterVersion","eks:CreateNodegroup","eks:DeleteNodegroup","eks:UpdateNodegroupConfig","eks:UpdateNodegroupVersion","eks:TagResource","eks:UntagResource"],"Effect":"Allow","Resource":"*"},{"Action":["sts:AssumeRole","sts:GetCallerIdentity","sts:GetSessionToken"],"Effect":"Allow","Resource":"*"},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":"arn:aws:secretsmanager:us-west-2:450683699755:secret:jenkins/*"},{"Action":["kms:Decrypt","kms:DescribeKey"],"Condition":{"StringEquals":{"kms:ViaService":"secretsmanager.us-west-2.amazonaws.com"}},"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}],"roleName":"jenkins-eks-controller-role","tags":[{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-eks-controller-role"},{"key":"Purpose","value":"Jenkins Controller IAM Role for AWS Infrastructure Deployment"}]}}},"JenkinsControllerRoleArnOutput":{"id":"JenkinsControllerRoleArnOutput","path":"JenkinsEksStack/JenkinsControllerRoleArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsControllerRoleNameOutput":{"id":"JenkinsControllerRoleNameOutput","path":"JenkinsEksStack/JenkinsControllerRoleNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsControllerServiceAccountAnnotationOutput":{"id":"JenkinsControllerServiceAccountAnnotationOutput","path":"JenkinsEksStack/JenkinsControllerServiceAccountAnnotationOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ClusterAutoscalerRoleCondition":{"id":"ClusterAutoscalerRoleCondition","path":"JenkinsEksStack/ClusterAutoscalerRoleCondition","constructInfo":{"fqn":"aws-cdk-lib.CfnJson","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/ClusterAutoscalerRoleCondition/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.238.0"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/ClusterAutoscalerRoleCondition/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}}}},"ClusterAutoscalerRole":{"id":"ClusterAutoscalerRole","path":"JenkinsEksStack/ClusterAutoscalerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"Federated":{"Ref":"JenkinsEksClusterOpenIdConnectProvider862107FE"}},"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"Fn::GetAtt":["ClusterAutoscalerRoleConditionB4DA431F","Value"]}}}]},"description":"IAM role for Cluster Autoscaler to automatically scale EKS node groups","policies":[{"policyName":"ClusterAutoscalerPolicy","policyDocument":{"Statement":[{"Action":["autoscaling:DescribeAutoScalingGroups","autoscaling:DescribeAutoScalingInstances","autoscaling:DescribeLaunchConfigurations","autoscaling:DescribeScalingActivities","autoscaling:DescribeTags","ec2:DescribeImages","ec2:DescribeInstanceTypes","ec2:DescribeLaunchTemplateVersions","ec2:GetInstanceTypesFromInstanceRequirements","eks:DescribeNodegroup"],"Effect":"Allow","Resource":"*"},{"Action":["autoscaling:SetDesiredCapacity","autoscaling:TerminateInstanceInAutoScalingGroup"],"Condition":{"StringEquals":{"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled":"true"}},"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}],"roleName":"jenkins-eks-cluster-autoscaler-role","tags":[{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-eks-cluster-autoscaler-role"},{"key":"Purpose","value":"Cluster Autoscaler IAM Role for EKS Node Group Scaling"}]}}},"ClusterAutoscalerRoleArnOutput":{"id":"ClusterAutoscalerRoleArnOutput","path":"JenkinsEksStack/ClusterAutoscalerRoleArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ClusterAutoscalerRoleNameOutput":{"id":"ClusterAutoscalerRoleNameOutput","path":"JenkinsEksStack/ClusterAutoscalerRoleNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ClusterAutoscalerServiceAccountAnnotationOutput":{"id":"ClusterAutoscalerServiceAccountAnnotationOutput","path":"JenkinsEksStack/ClusterAutoscalerServiceAccountAnnotationOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"EfsCsiDriverRoleCondition":{"id":"EfsCsiDriverRoleCondition","path":"JenkinsEksStack/EfsCsiDriverRoleCondition","constructInfo":{"fqn":"aws-cdk-lib.CfnJson","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/EfsCsiDriverRoleCondition/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.238.0"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/EfsCsiDriverRoleCondition/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}}}},"EfsCsiDriverRole":{"id":"EfsCsiDriverRole","path":"JenkinsEksStack/EfsCsiDriverRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"Federated":{"Ref":"JenkinsEksClusterOpenIdConnectProvider862107FE"}},"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"Fn::GetAtt":["EfsCsiDriverRoleCondition09DDC6A7","Value"]}}}]},"description":"IAM role for EFS CSI Driver to manage EFS access points and mount targets","policies":[{"policyName":"EfsCsiDriverPolicy","policyDocument":{"Statement":[{"Action":["elasticfilesystem:DescribeAccessPoints","elasticfilesystem:DescribeFileSystems","elasticfilesystem:DescribeMountTargets","elasticfilesystem:CreateAccessPoint","elasticfilesystem:DeleteAccessPoint","elasticfilesystem:TagResource"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}],"roleName":"jenkins-eks-efs-csi-driver-role","tags":[{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-eks-efs-csi-driver-role"},{"key":"Purpose","value":"EFS CSI Driver IAM Role for Dynamic Volume Provisioning"}]}}},"EfsCsiDriverRoleArnOutput":{"id":"EfsCsiDriverRoleArnOutput","path":"JenkinsEksStack/EfsCsiDriverRoleArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"EfsCsiDriverRoleNameOutput":{"id":"EfsCsiDriverRoleNameOutput","path":"JenkinsEksStack/EfsCsiDriverRoleNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"EfsCsiDriverServiceAccountAnnotationOutput":{"id":"EfsCsiDriverServiceAccountAnnotationOutput","path":"JenkinsEksStack/EfsCsiDriverServiceAccountAnnotationOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ControllerNodeRole":{"id":"ControllerNodeRole","path":"JenkinsEksStack/ControllerNodeRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/ControllerNodeRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ec2.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for EKS controller node group worker nodes","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEKSWorkerNodePolicy"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEKS_CNI_Policy"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonSSMManagedInstanceCore"]]}],"roleName":"jenkins-eks-controller-node-role"}}}}},"ControllerNodeRoleArnOutput":{"id":"ControllerNodeRoleArnOutput","path":"JenkinsEksStack/ControllerNodeRoleArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ControllerNodeGroup":{"id":"ControllerNodeGroup","path":"JenkinsEksStack/ControllerNodeGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.CfnNodegroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EKS::Nodegroup","aws:cdk:cloudformation:props":{"amiType":"AL2023_ARM_64_STANDARD","capacityType":"ON_DEMAND","clusterName":{"Ref":"JenkinsEksCluster57AD7EB2"},"instanceTypes":["t4g.xlarge"],"labels":{"workload-type":"jenkins-controller"},"nodegroupName":"jenkins-controller-nodegroup","nodeRole":{"Fn::GetAtt":["ControllerNodeRole99C23D00","Arn"]},"scalingConfig":{"minSize":1,"maxSize":2,"desiredSize":1},"subnets":[{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzAA8DA57B8"},{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzB30FC3688"}],"tags":{"ManagedBy":"AWS CDK","Name":"jenkins-controller-nodegroup","Purpose":"Jenkins Controller On-Demand Instances","workload-type":"jenkins-controller"},"taints":[{"key":"workload-type","value":"jenkins-controller","effect":"NO_SCHEDULE"}],"updateConfig":{"maxUnavailable":1}}}},"ControllerNodeGroupNameOutput":{"id":"ControllerNodeGroupNameOutput","path":"JenkinsEksStack/ControllerNodeGroupNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ControllerNodeGroupArnOutput":{"id":"ControllerNodeGroupArnOutput","path":"JenkinsEksStack/ControllerNodeGroupArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"AgentNodeRole":{"id":"AgentNodeRole","path":"JenkinsEksStack/AgentNodeRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/AgentNodeRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ec2.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for EKS agent node group worker nodes (spot instances)","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEKSWorkerNodePolicy"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEKS_CNI_Policy"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonSSMManagedInstanceCore"]]}],"roleName":"jenkins-eks-agent-node-role"}}}}},"AgentNodeRoleArnOutput":{"id":"AgentNodeRoleArnOutput","path":"JenkinsEksStack/AgentNodeRoleArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"AgentNodeGroup":{"id":"AgentNodeGroup","path":"JenkinsEksStack/AgentNodeGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.CfnNodegroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EKS::Nodegroup","aws:cdk:cloudformation:props":{"capacityType":"SPOT","clusterName":{"Ref":"JenkinsEksCluster57AD7EB2"},"instanceTypes":["m5.large","m5.xlarge","m5a.large","m5a.xlarge","m6i.large","m6i.xlarge"],"labels":{"workload-type":"jenkins-agent","node-lifecycle":"spot"},"nodegroupName":"jenkins-agent-nodegroup","nodeRole":{"Fn::GetAtt":["AgentNodeRoleD3EF0314","Arn"]},"scalingConfig":{"minSize":0,"maxSize":10,"desiredSize":0},"subnets":[{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzAA8DA57B8"},{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefPrivateSubnetAzB30FC3688"}],"tags":{"k8s.io/cluster-autoscaler/enabled":"true","k8s.io/cluster-autoscaler/jenkins-eks-cluster":"owned","ManagedBy":"AWS CDK","Name":"jenkins-agent-nodegroup","node-lifecycle":"spot","Purpose":"Jenkins Agent Spot Instances","workload-type":"jenkins-agent"},"updateConfig":{"maxUnavailable":1}}}},"AgentNodeGroupNameOutput":{"id":"AgentNodeGroupNameOutput","path":"JenkinsEksStack/AgentNodeGroupNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"AgentNodeGroupArnOutput":{"id":"AgentNodeGroupArnOutput","path":"JenkinsEksStack/AgentNodeGroupArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsControllerSecurityGroup":{"id":"JenkinsControllerSecurityGroup","path":"JenkinsEksStack/JenkinsControllerSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Jenkins controller - allows HTTP (8080) and JNLP (50000) traffic","securityGroupEgress":[{"ipProtocol":"-1","cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic"}],"securityGroupIngress":[{"ipProtocol":"tcp","fromPort":8080,"toPort":8080,"cidrIp":"10.0.0.0/16","description":"Allow HTTP traffic from VPC CIDR for Jenkins web UI"},{"ipProtocol":"tcp","fromPort":50000,"toPort":50000,"cidrIp":"10.0.0.0/16","description":"Allow JNLP traffic from VPC CIDR for agent connections"}],"tags":[{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-eks-controller-sg"},{"key":"Purpose","value":"Jenkins Controller Security Group"}],"vpcId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefJenkinsVpc6E47CFBB"}}}},"JenkinsControllerSecurityGroupIdOutput":{"id":"JenkinsControllerSecurityGroupIdOutput","path":"JenkinsEksStack/JenkinsControllerSecurityGroupIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsAgentSecurityGroup":{"id":"JenkinsAgentSecurityGroup","path":"JenkinsEksStack/JenkinsAgentSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Jenkins agents - allows ephemeral ports from controller","securityGroupEgress":[{"ipProtocol":"-1","cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic"}],"securityGroupIngress":[{"ipProtocol":"tcp","fromPort":32768,"toPort":65535,"cidrIp":"10.0.0.0/16","description":"Allow ephemeral ports from VPC CIDR (controller to agent communication)"}],"tags":[{"key":"ManagedBy","value":"AWS CDK"},{"key":"Name","value":"jenkins-eks-agent-sg"},{"key":"Purpose","value":"Jenkins Agent Security Group"}],"vpcId":{"Fn::ImportValue":"JenkinsNetworkStack:ExportsOutputRefJenkinsVpc6E47CFBB"}}}},"JenkinsAgentSecurityGroupIdOutput":{"id":"JenkinsAgentSecurityGroupIdOutput","path":"JenkinsEksStack/JenkinsAgentSecurityGroupIdOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsEksAlarmTopic":{"id":"JenkinsEksAlarmTopic","path":"JenkinsEksStack/JenkinsEksAlarmTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/JenkinsEksAlarmTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Jenkins EKS Cluster Alarms","topicName":"jenkins-eks-alarms"}}}}},"AlarmTopicArnOutput":{"id":"AlarmTopicArnOutput","path":"JenkinsEksStack/AlarmTopicArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ClusterHealthAlarm":{"id":"ClusterHealthAlarm","path":"JenkinsEksStack/ClusterHealthAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/ClusterHealthAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"JenkinsEksAlarmTopicEF39E4FF"}],"alarmDescription":"Alert when EKS cluster is unhealthy","alarmName":"jenkins-eks-cluster-health","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"ClusterName","value":{"Ref":"JenkinsEksCluster57AD7EB2"}}],"evaluationPeriods":2,"metricName":"cluster_failed_node_count","namespace":"AWS/EKS","period":300,"statistic":"Average","threshold":1,"treatMissingData":"notBreaching"}}}}},"NodeFailureAlarm":{"id":"NodeFailureAlarm","path":"JenkinsEksStack/NodeFailureAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/NodeFailureAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"JenkinsEksAlarmTopicEF39E4FF"}],"alarmDescription":"Alert when EKS nodes fail or become unavailable","alarmName":"jenkins-eks-node-failure","comparisonOperator":"LessThanThreshold","dimensions":[{"name":"ClusterName","value":{"Ref":"JenkinsEksCluster57AD7EB2"}}],"evaluationPeriods":3,"metricName":"node_number_of_running_pods","namespace":"ContainerInsights","period":300,"statistic":"Average","threshold":1,"treatMissingData":"breaching"}}}}},"DiskSpaceAlarm":{"id":"DiskSpaceAlarm","path":"JenkinsEksStack/DiskSpaceAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/DiskSpaceAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"JenkinsEksAlarmTopicEF39E4FF"}],"alarmDescription":"Alert when node disk utilization exceeds 80%","alarmName":"jenkins-eks-disk-space","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"ClusterName","value":{"Ref":"JenkinsEksCluster57AD7EB2"}}],"evaluationPeriods":2,"metricName":"node_filesystem_utilization","namespace":"ContainerInsights","period":300,"statistic":"Average","threshold":80,"treatMissingData":"notBreaching"}}}}},"PendingPodsAlarm":{"id":"PendingPodsAlarm","path":"JenkinsEksStack/PendingPodsAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/PendingPodsAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"JenkinsEksAlarmTopicEF39E4FF"}],"alarmDescription":"Alert when pending pods exceed 5 for more than 10 minutes","alarmName":"jenkins-eks-pending-pods","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"ClusterName","value":{"Ref":"JenkinsEksCluster57AD7EB2"}}],"evaluationPeriods":2,"metricName":"cluster_number_of_running_pods","namespace":"ContainerInsights","period":300,"statistic":"Average","threshold":5,"treatMissingData":"notBreaching"}}}}},"SpotInterruptionAlarm":{"id":"SpotInterruptionAlarm","path":"JenkinsEksStack/SpotInterruptionAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"JenkinsEksStack/SpotInterruptionAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"JenkinsEksAlarmTopicEF39E4FF"}],"alarmDescription":"Alert when spot instance interruptions occur","alarmName":"jenkins-eks-spot-interruption","comparisonOperator":"GreaterThanOrEqualToThreshold","evaluationPeriods":1,"metricName":"InterruptionRate","namespace":"AWS/EC2Spot","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"ClusterHealthAlarmArnOutput":{"id":"ClusterHealthAlarmArnOutput","path":"JenkinsEksStack/ClusterHealthAlarmArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"NodeFailureAlarmArnOutput":{"id":"NodeFailureAlarmArnOutput","path":"JenkinsEksStack/NodeFailureAlarmArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"DiskSpaceAlarmArnOutput":{"id":"DiskSpaceAlarmArnOutput","path":"JenkinsEksStack/DiskSpaceAlarmArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"PendingPodsAlarmArnOutput":{"id":"PendingPodsAlarmArnOutput","path":"JenkinsEksStack/PendingPodsAlarmArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"SpotInterruptionAlarmArnOutput":{"id":"SpotInterruptionAlarmArnOutput","path":"JenkinsEksStack/SpotInterruptionAlarmArnOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"JenkinsDeploymentInstructionsOutput":{"id":"JenkinsDeploymentInstructionsOutput","path":"JenkinsEksStack/JenkinsDeploymentInstructionsOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"JenkinsEksStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"JenkinsEksStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"JenkinsEksStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"JenkinsEksStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.238.0"}}}},"NginxApiClusterStack":{"id":"NginxApiClusterStack","path":"NginxApiClusterStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.238.0"},"children":{"ClusterRole":{"id":"ClusterRole","path":"NginxApiClusterStack/ClusterRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/ClusterRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"eks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEKSClusterPolicy"]]}]}}}}},"ClusterSecurityGroup":{"id":"ClusterSecurityGroup","path":"NginxApiClusterStack/ClusterSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/ClusterSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for EKS cluster control plane","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"10.0.0.0/16","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow kubectl access from Jenkins VPC"}],"vpcId":{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcB7BEAB926351F217"}}}}}},"KubectlLayer":{"id":"KubectlLayer","path":"NginxApiClusterStack/KubectlLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.238.0"},"children":{"Code":{"id":"Code","path":"NginxApiClusterStack/KubectlLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/KubectlLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/KubectlLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/KubectlLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.13","python3.12","python3.11","provided.al2023"],"content":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"954e6e9b0c5b52a5026f0d4d400be8b316ee39dd23b73850ca64dcb5ca305a10.zip"},"description":"kubectl layer placeholder"}}}}},"Cluster":{"id":"Cluster","path":"NginxApiClusterStack/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.Cluster","version":"2.238.0"},"children":{"KubectlHandlerRole":{"id":"KubectlHandlerRole","path":"NginxApiClusterStack/Cluster/KubectlHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/Cluster/KubectlHandlerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEC2ContainerRegistryPullOnly"]]},{"Fn::If":["ClusterHasEcrPublic8EE1114E",{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonElasticContainerRegistryPublicReadOnly"]]},{"Ref":"AWS::NoValue"}]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"NginxApiClusterStack/Cluster/KubectlHandlerRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/Cluster/KubectlHandlerRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"eks:DescribeCluster","Effect":"Allow","Resource":{"Fn::GetAtt":["Cluster9EE0221C","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["ClusterCreationRole360249B6","Arn"]}}],"Version":"2012-10-17"},"policyName":"ClusterKubectlHandlerRoleDefaultPolicyE44083DD","roles":[{"Ref":"ClusterKubectlHandlerRole94549F93"}]}}}}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/Cluster/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"CreationRole":{"id":"CreationRole","path":"NginxApiClusterStack/Cluster/Resource/CreationRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/Cluster/Resource/CreationRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":[{"Fn::GetAtt":["ClusterKubectlHandlerRole94549F93","Arn"]},{"Fn::GetAtt":["awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454","Outputs.NginxApiClusterStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole898D2526Arn"]},{"Fn::GetAtt":["awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454","Outputs.NginxApiClusterStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleB4FB6221Arn"]}]}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"NginxApiClusterStack/Cluster/Resource/CreationRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/Cluster/Resource/CreationRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["ClusterRoleD9CA7471","Arn"]}},{"Action":["eks:CreateCluster","eks:CreateFargateProfile","eks:DeleteCluster","eks:DescribeCluster","eks:DescribeUpdate","eks:TagResource","eks:UntagResource","eks:UpdateClusterConfig","eks:UpdateClusterVersion"],"Effect":"Allow","Resource":["arn:aws:eks:us-west-2:450683699755:cluster/nginx-api-cluster","arn:aws:eks:us-west-2:450683699755:cluster/nginx-api-cluster/*"]},{"Action":["eks:DeleteFargateProfile","eks:DescribeFargateProfile"],"Effect":"Allow","Resource":"arn:aws:eks:us-west-2:450683699755:fargateprofile/nginx-api-cluster/*"},{"Action":["ec2:DescribeDhcpOptions","ec2:DescribeInstances","ec2:DescribeNetworkInterfaces","ec2:DescribeRouteTables","ec2:DescribeSecurityGroups","ec2:DescribeSubnets","ec2:DescribeVpcs","iam:CreateServiceLinkedRole","iam:GetRole","iam:listAttachedRolePolicies"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ClusterCreationRoleDefaultPolicyE8BDFC7B","roles":[{"Ref":"ClusterCreationRole360249B6"}]}}}}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/Cluster/Resource/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.238.0"},"children":{"Default":{"id":"Default","path":"NginxApiClusterStack/Cluster/Resource/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}}}},"KubectlReadyBarrier":{"id":"KubectlReadyBarrier","path":"NginxApiClusterStack/Cluster/KubectlReadyBarrier","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}},"ClusterSecurityGroup":{"id":"ClusterSecurityGroup","path":"NginxApiClusterStack/Cluster/ClusterSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"HasEcrPublic":{"id":"HasEcrPublic","path":"NginxApiClusterStack/Cluster/HasEcrPublic","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.238.0"}}}},"@aws-cdk--aws-eks.ClusterResourceProvider":{"id":"@aws-cdk--aws-eks.ClusterResourceProvider","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.NestedStack","version":"2.238.0"},"children":{"NodeProxyAgentLayer":{"id":"NodeProxyAgentLayer","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_node_proxy_agent.NodeProxyAgentLayer","version":"2.238.0"},"children":{"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/NodeProxyAgentLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"93d96d34e0d3cd20eb082652b91012b131bdc34fcf2bc16eb4170e04772fddb1.zip"},"description":"/opt/nodejs/node_modules/proxy-agent"}}}}},"OnEventHandler":{"id":"OnEventHandler","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"d7bd9f4114bd50e541aa5a86ef7e0868cdc3de8cf904695c7989a7e4e810cb3e.zip"},"description":"onEvent handler for EKS cluster resource provider","environment":{"variables":{"AWS_STS_REGIONAL_ENDPOINTS":"regional"}},"handler":"index.onEvent","layers":[{"Ref":"NodeProxyAgentLayer924C1971"}],"role":{"Fn::GetAtt":["OnEventHandlerServiceRole15A26729","Arn"]},"runtime":"nodejs22.x","timeout":60}}},"LogGroup":{"id":"LogGroup","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/OnEventHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"OnEventHandler42BEBAE0"}]]},"retentionInDays":731}}}}}}},"IsCompleteHandler":{"id":"IsCompleteHandler","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"d7bd9f4114bd50e541aa5a86ef7e0868cdc3de8cf904695c7989a7e4e810cb3e.zip"},"description":"isComplete handler for EKS cluster resource provider","environment":{"variables":{"AWS_STS_REGIONAL_ENDPOINTS":"regional"}},"handler":"index.isComplete","layers":[{"Ref":"NodeProxyAgentLayer924C1971"}],"role":{"Fn::GetAtt":["IsCompleteHandlerServiceRole5810CC58","Arn"]},"runtime":"nodejs22.x","timeout":60}}},"LogGroup":{"id":"LogGroup","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/IsCompleteHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"IsCompleteHandler7073F4DA"}]]},"retentionInDays":731}}}}}}},"Provider":{"id":"Provider","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.238.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"Providerwaiterstatemachine5D4A9DF0"}}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonEventServiceRoleDefaultPolicy48CD2133","roles":[{"Ref":"ProviderframeworkonEventServiceRole9FF04296"}]}}}}}}},"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"07a90cc3efdfc34da22208dcd9d211f06f5b0e01b21e778edc7c3966b1f61d57.zip"},"description":"AWS CDK resource provider framework - onEvent (NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},"WAITER_STATE_MACHINE_ARN":{"Ref":"Providerwaiterstatemachine5D4A9DF0"}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["ProviderframeworkonEventServiceRole9FF04296","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onEvent/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonEvent83C1D0A7"}]]},"retentionInDays":731}}}}}}},"framework-isComplete":{"id":"framework-isComplete","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ProviderframeworkisCompleteServiceRoleDefaultPolicy2E7140AC","roles":[{"Ref":"ProviderframeworkisCompleteServiceRoleB1087139"}]}}}}}}},"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"07a90cc3efdfc34da22208dcd9d211f06f5b0e01b21e778edc7c3966b1f61d57.zip"},"description":"AWS CDK resource provider framework - isComplete (NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]}}},"handler":"framework.isComplete","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["ProviderframeworkisCompleteServiceRoleB1087139","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-isComplete/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkisComplete26D7B0CB"}]]},"retentionInDays":731}}}}}}},"framework-onTimeout":{"id":"framework-onTimeout","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonTimeoutServiceRoleDefaultPolicy2688969F","roles":[{"Ref":"ProviderframeworkonTimeoutServiceRole28643D26"}]}}}}}}},"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"07a90cc3efdfc34da22208dcd9d211f06f5b0e01b21e778edc7c3966b1f61d57.zip"},"description":"AWS CDK resource provider framework - onTimeout (NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]}}},"handler":"framework.onTimeout","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["ProviderframeworkonTimeoutServiceRole28643D26","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/framework-onTimeout/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonTimeout0B47CA38"}]]},"retentionInDays":731}}}}}}},"waiter-state-machine":{"id":"waiter-state-machine","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.WaiterStateMachine","version":"2.238.0"},"children":{"Role":{"id":"Role","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"ProviderwaiterstatemachineRoleDefaultPolicyD3C3DA1A","roles":[{"Ref":"ProviderwaiterstatemachineRole0C7159F9"}]}}}}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/Provider/waiter-state-machine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"framework-isComplete-task\",\"States\":{\"framework-isComplete-task\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":60,\"MaxAttempts\":60,\"BackoffRate\":1}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"framework-onTimeout-task\"}],\"Type\":\"Task\",\"Resource\":\"",{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},"\"},\"framework-onTimeout-task\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"",{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},"\"}}}"]]},"roleArn":{"Fn::GetAtt":["ProviderwaiterstatemachineRole0C7159F9","Arn"]}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"NginxApiClusterStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleB4FB6221Arn":{"id":"NginxApiClusterStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleB4FB6221Arn","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/NginxApiClusterStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleB4FB6221Arn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"NginxApiClusterStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole898D2526Arn":{"id":"NginxApiClusterStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole898D2526Arn","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/NginxApiClusterStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole898D2526Arn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"NginxApiClusterStackawscdkawseksClusterResourceProviderframeworkonEventD2EB1089Arn":{"id":"NginxApiClusterStackawscdkawseksClusterResourceProviderframeworkonEventD2EB1089Arn","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider/NginxApiClusterStackawscdkawseksClusterResourceProviderframeworkonEventD2EB1089Arn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}}}},"@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack":{"id":"@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource":{"id":"@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"templateUrl":{"Fn::Join":["",["https://s3.us-west-2.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-450683699755-us-west-2/24ce2bbe0caff455f4630f76259aad3a3e99b9ddbd0df1b33d6f625c8da8c757.json"]]}}}}}},"@aws-cdk--aws-eks.KubectlProvider":{"id":"@aws-cdk--aws-eks.KubectlProvider","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.KubectlProvider","version":"2.238.0"},"children":{"Handler":{"id":"Handler","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Handler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Handler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Handler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Handler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"d671460286b61f85906debbcec5341ea4edad148fbc432b0663593611866728e.zip"},"description":"onEvent handler for EKS kubectl resource provider","environment":{"variables":{"AWS_STS_REGIONAL_ENDPOINTS":"regional"}},"handler":"index.handler","layers":[{"Ref":"AwsCliLayerF44AAF94"},{"Ref":"referencetoNginxApiClusterStackKubectlLayerCAE4174ARef"}],"memorySize":1024,"role":{"Ref":"referencetoNginxApiClusterStackClusterKubectlHandlerRoleC00976B7Arn"},"runtime":"python3.13","timeout":900,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcPrivateSubnet1Subnet1174CD0B767F3D15"},{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcPrivateSubnet2SubnetD6B4249DE818A381"}],"securityGroupIds":[{"Ref":"referencetoNginxApiClusterStackClusterE83207E7ClusterSecurityGroupId"}]}}}},"LogGroup":{"id":"LogGroup","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Handler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Handler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"Handler886CB40B"}]]},"retentionInDays":731}}}}}}},"AwsCliLayer":{"id":"AwsCliLayer","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.238.0"},"children":{"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"0cfdecad2260a3a84ad0c2d08a77e03c9d25e26c7b52f26b1e1faf97aef92f18.zip"},"description":"/opt/awscli/aws"}}}}},"ConditionalPolicyArn":{"id":"ConditionalPolicyArn","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/ConditionalPolicyArn","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"conditionalPolicy":{"id":"conditionalPolicy","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/conditionalPolicy","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}},"Provider":{"id":"Provider","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.238.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["Handler886CB40B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Handler886CB40B","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["Handler886CB40B","Arn"]}}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonEventServiceRoleDefaultPolicy48CD2133","roles":[{"Ref":"ProviderframeworkonEventServiceRole9FF04296"}]}}}}}}},"Code":{"id":"Code","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-450683699755-us-west-2","s3Key":"07a90cc3efdfc34da22208dcd9d211f06f5b0e01b21e778edc7c3966b1f61d57.zip"},"description":"AWS CDK resource provider framework - onEvent (NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["Handler886CB40B","Arn"]}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["ProviderframeworkonEventServiceRole9FF04296","Arn"]},"runtime":"nodejs22.x","timeout":900,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcPrivateSubnet1Subnet1174CD0B767F3D15"},{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcPrivateSubnet2SubnetD6B4249DE818A381"}],"securityGroupIds":[{"Ref":"referencetoNginxApiClusterStackClusterE83207E7ClusterSecurityGroupId"}]}}}},"LogGroup":{"id":"LogGroup","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/Provider/framework-onEvent/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonEvent83C1D0A7"}]]},"retentionInDays":731}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"reference-to-NginxApiClusterStackKubectlLayerCAE4174ARef":{"id":"reference-to-NginxApiClusterStackKubectlLayerCAE4174ARef","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/reference-to-NginxApiClusterStackKubectlLayerCAE4174ARef","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"reference-to-NginxApiClusterStackClusterKubectlHandlerRoleC00976B7Arn":{"id":"reference-to-NginxApiClusterStackClusterKubectlHandlerRoleC00976B7Arn","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/reference-to-NginxApiClusterStackClusterKubectlHandlerRoleC00976B7Arn","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"reference-to-NginxApiClusterStackClusterE83207E7ClusterSecurityGroupId":{"id":"reference-to-NginxApiClusterStackClusterE83207E7ClusterSecurityGroupId","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider/reference-to-NginxApiClusterStackClusterE83207E7ClusterSecurityGroupId","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}}}},"@aws-cdk--aws-eks.KubectlProvider.NestedStack":{"id":"@aws-cdk--aws-eks.KubectlProvider.NestedStack","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"@aws-cdk--aws-eks.KubectlProvider.NestedStackResource":{"id":"@aws-cdk--aws-eks.KubectlProvider.NestedStackResource","path":"NginxApiClusterStack/@aws-cdk--aws-eks.KubectlProvider.NestedStack/@aws-cdk--aws-eks.KubectlProvider.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"parameters":{"referencetoNginxApiClusterStackKubectlLayerCAE4174ARef":{"Ref":"KubectlLayer600207B5"},"referencetoNginxApiClusterStackClusterKubectlHandlerRoleC00976B7Arn":{"Fn::GetAtt":["ClusterKubectlHandlerRole94549F93","Arn"]},"referencetoNginxApiClusterStackClusterE83207E7ClusterSecurityGroupId":{"Fn::GetAtt":["Cluster9EE0221C","ClusterSecurityGroupId"]}},"templateUrl":{"Fn::Join":["",["https://s3.us-west-2.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-450683699755-us-west-2/2509a6300bb3f920d3acc74cbbfc3bf2359e3c41d9533ff5229def3349c75269.json"]]}}}}}},"ClusterNameOutput":{"id":"ClusterNameOutput","path":"NginxApiClusterStack/ClusterNameOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ClusterEndpointOutput":{"id":"ClusterEndpointOutput","path":"NginxApiClusterStack/ClusterEndpointOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ClusterArn":{"id":"ClusterArn","path":"NginxApiClusterStack/ClusterArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"KarpenterNodeRole":{"id":"KarpenterNodeRole","path":"NginxApiClusterStack/KarpenterNodeRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/KarpenterNodeRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ec2.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEKSWorkerNodePolicy"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEKS_CNI_Policy"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonSSMManagedInstanceCore"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"NginxApiClusterStack/KarpenterNodeRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/KarpenterNodeRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"KarpenterNodeRoleDefaultPolicyE55D6760","roles":[{"Ref":"KarpenterNodeRole4664A89A"}]}}}}}}},"KarpenterInstanceProfile":{"id":"KarpenterInstanceProfile","path":"NginxApiClusterStack/KarpenterInstanceProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnInstanceProfile","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::InstanceProfile","aws:cdk:cloudformation:props":{"instanceProfileName":{"Fn::Join":["",["KarpenterNodeInstanceProfile-",{"Ref":"Cluster9EE0221C"}]]},"roles":[{"Ref":"KarpenterNodeRole4664A89A"}]}}},"KarpenterInterruptionQueue":{"id":"KarpenterInterruptionQueue","path":"NginxApiClusterStack/KarpenterInterruptionQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/KarpenterInterruptionQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":300,"queueName":{"Fn::Join":["",[{"Ref":"Cluster9EE0221C"},"-karpenter-interruption"]]}}}},"Policy":{"id":"Policy","path":"NginxApiClusterStack/KarpenterInterruptionQueue/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/KarpenterInterruptionQueue/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["EC2StateChangeRuleD816BE38","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["KarpenterInterruptionQueue89CE5952","Arn"]}},{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["EC2SpotInterruptionRule5556EA27","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["KarpenterInterruptionQueue89CE5952","Arn"]}},{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["EC2RebalanceRule00F96BCA","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["KarpenterInterruptionQueue89CE5952","Arn"]}}],"Version":"2012-10-17"},"queues":[{"Ref":"KarpenterInterruptionQueue89CE5952"}]}}}}}}},"EC2StateChangeRule":{"id":"EC2StateChangeRule","path":"NginxApiClusterStack/EC2StateChangeRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/EC2StateChangeRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.ec2"],"detail-type":["EC2 Instance State-change Notification"]},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["KarpenterInterruptionQueue89CE5952","Arn"]}}]}}}}},"EC2SpotInterruptionRule":{"id":"EC2SpotInterruptionRule","path":"NginxApiClusterStack/EC2SpotInterruptionRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/EC2SpotInterruptionRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.ec2"],"detail-type":["EC2 Spot Instance Interruption Warning"]},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["KarpenterInterruptionQueue89CE5952","Arn"]}}]}}}}},"EC2RebalanceRule":{"id":"EC2RebalanceRule","path":"NginxApiClusterStack/EC2RebalanceRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/EC2RebalanceRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.ec2"],"detail-type":["EC2 Instance Rebalance Recommendation"]},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["KarpenterInterruptionQueue89CE5952","Arn"]}}]}}}}},"KarpenterNodeRoleArn":{"id":"KarpenterNodeRoleArn","path":"NginxApiClusterStack/KarpenterNodeRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"KarpenterControllerRoleArn":{"id":"KarpenterControllerRoleArn","path":"NginxApiClusterStack/KarpenterControllerRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"KarpenterInstanceProfileName":{"id":"KarpenterInstanceProfileName","path":"NginxApiClusterStack/KarpenterInstanceProfileName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"KarpenterInterruptionQueueName":{"id":"KarpenterInterruptionQueueName","path":"NginxApiClusterStack/KarpenterInterruptionQueueName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ALBControllerRoleArn":{"id":"ALBControllerRoleArn","path":"NginxApiClusterStack/ALBControllerRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ALBSecurityGroup":{"id":"ALBSecurityGroup","path":"NginxApiClusterStack/ALBSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/ALBSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for public ALB","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS from API Gateway"}],"vpcId":{"Fn::ImportValue":"NginxApiNetworkStack:ExportsOutputRefNginxApiVpcB7BEAB926351F217"}}}}}},"ALBSecurityGroupId":{"id":"ALBSecurityGroupId","path":"NginxApiClusterStack/ALBSecurityGroupId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ApiGatewayLogGroup":{"id":"ApiGatewayLogGroup","path":"NginxApiClusterStack/ApiGatewayLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"NginxApiClusterStack/ApiGatewayLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/apigateway/",{"Ref":"Cluster9EE0221C"}]]},"retentionInDays":7}}}}},"HttpApi":{"id":"HttpApi","path":"NginxApiClusterStack/HttpApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"corsConfiguration":{"allowOrigins":["*"],"allowMethods":["GET","POST","PUT","DELETE","OPTIONS"],"allowHeaders":["Content-Type","Authorization"]},"name":{"Fn::Join":["",[{"Ref":"Cluster9EE0221C"},"-api"]]},"protocolType":"HTTP"}}},"ApiStage":{"id":"ApiStage","path":"NginxApiClusterStack/ApiStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"accessLogSettings":{"destinationArn":{"Fn::GetAtt":["ApiGatewayLogGroupA9770429","Arn"]},"format":"{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"routeKey\":\"$context.routeKey\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"},"apiId":{"Ref":"HttpApi"},"autoDeploy":true,"stageName":"$default"}}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"NginxApiClusterStack/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ApiGatewayId":{"id":"ApiGatewayId","path":"NginxApiClusterStack/ApiGatewayId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"NginxApiClusterStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"NginxApiClusterStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"NginxApiClusterStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"NginxApiClusterStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.238.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}