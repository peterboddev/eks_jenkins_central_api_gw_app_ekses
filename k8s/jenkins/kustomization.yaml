apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: jenkins-controller
  namespace: jenkins

  # Resources to deploy
resources:
  - namespace.yaml
  - serviceaccount.yaml
  - rbac.yaml
  - pvc.yaml
  - plugins-configmap.yaml
  - jcasc-main-configmap.yaml
  - agent-pod-template-configmap.yaml
  - statefulset.yaml
  - service.yaml

# Common labels applied to all resources
commonLabels:
  app.kubernetes.io/name: jenkins
  app.kubernetes.io/component: controller
  app.kubernetes.io/managed-by: kustomize

# Namespace for all resources
namespace: jenkins
