apiVersion: v1
kind: ServiceAccount
metadata:
  name: cluster-autoscaler
  namespace: kube-system
  labels:
    app: cluster-autoscaler
  annotations:
    # IRSA annotation - IAM role ARN for Cluster Autoscaler
    # IMPORTANT: Replace ACCOUNT_ID with your AWS account ID before applying
    # To get the role ARN, run: aws cloudformation describe-stacks --stack-name JenkinsEksStack --query "Stacks[0].Outputs[?ExportName=='JenkinsEksClusterAutoscalerRoleArn'].OutputValue" --output text --region us-west-2
    # Requirement 8.1: Cluster Autoscaler SHALL use IRSA for AWS API access
    eks.amazonaws.com/role-arn: arn:aws:iam::ACCOUNT_ID:role/jenkins-eks-cluster-autoscaler-role
